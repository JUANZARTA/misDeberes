{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/task.service\";\nimport * as i3 from \"../../services/taskType.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CategoryComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 22)(9, \"select\", 23);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_tr_33_Template_select_ngModelChange_9_listener($event) {\n      const task_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      i0.ɵɵtwoWayBindingSet(task_r2.estado, $event) || (task_r2.estado = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function CategoryComponent_tr_33_Template_select_change_9_listener() {\n      const task_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.changeTaskStatus(task_r2));\n    });\n    i0.ɵɵelementStart(10, \"option\", 24);\n    i0.ɵɵtext(11, \"Pendiente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"option\", 25);\n    i0.ɵɵtext(13, \"Realizado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 26);\n    i0.ɵɵtext(15, \"No realizado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 27);\n    i0.ɵɵtext(17, \"Para hoy\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"td\", 22)(19, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_tr_33_Template_button_click_19_listener() {\n      const task_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openEditModal(task_r2));\n    });\n    i0.ɵɵelementStart(20, \"span\", 29);\n    i0.ɵɵtext(21, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_tr_33_Template_button_click_22_listener() {\n      const task_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openDeleteModal(task_r2));\n    });\n    i0.ɵɵelementStart(23, \"span\", 31);\n    i0.ɵɵtext(24, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const task_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r2.nota || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", task_r2.fecha ? i0.ɵɵpipeBind2(7, 5, task_r2.fecha, \"EEEE d\") : \"(por definir)\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", task_r2.estado);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.getEstadoColor(task_r2));\n  }\n}\nfunction CategoryComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h2\", 34);\n    i0.ɵɵtext(3, \"Nueva Tarea\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 35);\n    i0.ɵɵtext(5, \"Nombre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 36);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_div_34_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newTask.nombre, $event) || (ctx_r2.newTask.nombre = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 35);\n    i0.ɵɵtext(8, \"Nota adicional:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"textarea\", 37);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_div_34_Template_textarea_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newTask.nota, $event) || (ctx_r2.newTask.nota = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 35);\n    i0.ɵɵtext(11, \"Fecha (d\\u00EDa):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 38);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_div_34_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newTask.fecha, $event) || (ctx_r2.newTask.fecha = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 39)(14, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_34_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeAddModal());\n    });\n    i0.ɵɵtext(15, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_34_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addTask());\n    });\n    i0.ɵɵtext(17, \"Agregar\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newTask.nombre);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newTask.nota);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newTask.fecha);\n  }\n}\nfunction CategoryComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h2\", 34);\n    i0.ɵɵtext(3, \"Editar Tarea\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 35);\n    i0.ɵɵtext(5, \"Nombre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 36);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_div_35_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.editedTask.nombre, $event) || (ctx_r2.editedTask.nombre = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 35);\n    i0.ɵɵtext(8, \"Nota:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"textarea\", 37);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_div_35_Template_textarea_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.editedTask.nota, $event) || (ctx_r2.editedTask.nota = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 35);\n    i0.ɵɵtext(11, \"Fecha:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 38);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CategoryComponent_div_35_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.editedTask.fecha, $event) || (ctx_r2.editedTask.fecha = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 39)(14, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_35_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeEditModal());\n    });\n    i0.ɵɵtext(15, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_35_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.saveTaskEdit());\n    });\n    i0.ɵɵtext(17, \" Guardar \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.editedTask.nombre);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.editedTask.nota);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.editedTask.fecha);\n  }\n}\nfunction CategoryComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 43)(2, \"span\", 44);\n    i0.ɵɵtext(3, \" report_problem \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\", 45);\n    i0.ɵɵtext(5, \"\\u00BFEliminar Tarea?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 46);\n    i0.ɵɵtext(7, \"\\u00BFEst\\u00E1s seguro de eliminar esta tarea? Esta acci\\u00F3n no se puede deshacer.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 47)(9, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_36_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeDeleteModal());\n    });\n    i0.ɵɵtext(10, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_36_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.confirmDeleteTask());\n    });\n    i0.ɵɵtext(12, \" Eliminar \");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nexport let CategoryComponent = /*#__PURE__*/(() => {\n  class CategoryComponent {\n    constructor(route, router, taskService, taskTypeService) {\n      this.route = route;\n      this.router = router;\n      this.taskService = taskService;\n      this.taskTypeService = taskTypeService;\n      // Nombre del tipo de tarea actual (clave Firebase)\n      this.taskTypeName = '';\n      this.taskTypeDisplayName = '';\n      this.editedOriginalName = '';\n      // Modal de edición\n      this.isEditModalOpen = false;\n      this.editedTask = {};\n      // Modal de eliminación\n      this.isDeleteModalOpen = false;\n      this.taskToDeleteKey = '';\n      // Lista de tareas cargadas\n      this.tasks = [];\n      // Estado para el modal de agregar\n      this.isAddModalOpen = false;\n      // Tarea nueva temporal\n      this.newTask = {\n        nombre: '',\n        nota: '',\n        fecha: '',\n        estado: 'pendiente'\n      };\n    }\n    // Carga inicial del tipo de tarea y sus tareas asociadas\n    ngOnInit() {\n      this.taskTypeName = this.route.snapshot.paramMap.get('name') || '';\n      console.log('[INIT] Tareas para tipo:', this.taskTypeName);\n      this.loadTasks();\n      this.loadTaskTypeDisplayName();\n    }\n    // Carga y ajusta estados de las tareas automáticamente\n    loadTasks() {\n      this.taskService.getTasks(this.taskTypeName).subscribe({\n        next: tasks => {\n          const hoy = new Date();\n          const hoyFecha = new Date(hoy.getFullYear(), hoy.getMonth(), hoy.getDate()); // hoy a las 00:00\n          console.log('[DEBUG] Fecha actual local:', hoy.toISOString(), '| Solo fecha:', hoyFecha.toDateString());\n          this.tasks = tasks.map(task => {\n            if (task.estado === 'realizado') return task;\n            if (!task.fecha) {\n              task.estado = 'pendiente';\n            } else {\n              const fechaTarea = this.parseFechaLocal(task.fecha);\n              console.log('[DEBUG] Tarea:', task.nombre, '| Fecha tarea:', fechaTarea.toDateString());\n              if (fechaTarea.getTime() === hoyFecha.getTime()) {\n                task.estado = 'para hoy';\n              } else if (fechaTarea.getTime() < hoyFecha.getTime()) {\n                task.estado = 'no realizado';\n              } else {\n                task.estado = 'pendiente';\n              }\n            }\n            return task;\n          });\n          // Guardar los cambios en Firebase\n          this.tasks.forEach(task => {\n            const key = task.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\n            this.taskService.updateTask(this.taskTypeName, key, task).subscribe();\n          });\n          console.log('[TAREAS]', this.tasks);\n        },\n        error: err => console.error('[ERROR] Al cargar tareas:', err)\n      });\n    }\n    // Regresa al home\n    goBack() {\n      this.router.navigate(['/app/home']);\n    }\n    // Cambia el estado de la tarea y lo guarda en Firebase\n    toggleTaskStatus(task) {\n      const estados = ['pendiente', 'para hoy', 'realizado', 'no realizado'];\n      const actual = task.estado;\n      const index = estados.indexOf(actual);\n      const siguiente = estados[(index + 1) % estados.length];\n      const updatedTask = {\n        ...task,\n        estado: siguiente\n      };\n      const key = task.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\n      this.taskService.updateTask(this.taskTypeName, key, updatedTask).subscribe({\n        next: () => this.loadTasks(),\n        error: err => console.error('[ERROR] Al cambiar estado:', err)\n      });\n    }\n    // Abre el modal para nueva tarea\n    openAddModal() {\n      this.isAddModalOpen = true;\n      this.newTask = {\n        nombre: '',\n        nota: '',\n        fecha: '',\n        estado: 'pendiente'\n      };\n    }\n    // Cierra el modal de nueva tarea\n    closeAddModal() {\n      this.isAddModalOpen = false;\n      this.newTask = {\n        nombre: '',\n        nota: '',\n        fecha: '',\n        estado: 'pendiente'\n      };\n    }\n    // Agrega una nueva tarea a Firebase\n    addTask() {\n      if (!this.newTask.nombre.trim()) return;\n      this.taskService.addTask(this.taskTypeName, this.newTask).subscribe({\n        next: () => {\n          this.loadTasks();\n          this.closeAddModal();\n        },\n        error: err => console.error('[ERROR] Al agregar tarea:', err)\n      });\n    }\n    // Abre modal de edición (por implementar)\n    openEditModal(task) {\n      this.editedTask = {\n        ...task\n      }; // copia los datos de la tarea\n      this.editedOriginalName = task.nombre; // guarda el nombre original\n      this.isEditModalOpen = true;\n    }\n    // Confirma la edición de la tarea seleccionada\n    saveTaskEdit() {\n      if (!this.editedTask?.nombre?.trim()) return;\n      const newKey = this.editedTask.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\n      const oldKey = this.editedOriginalName.trim().toLowerCase().replace(/\\s+/g, '_');\n      // Si cambió el nombre (key), eliminamos el anterior\n      if (newKey !== oldKey) {\n        this.taskService.deleteTask(this.taskTypeName, oldKey).subscribe();\n      }\n      this.taskService.updateTask(this.taskTypeName, newKey, this.editedTask).subscribe({\n        next: () => {\n          this.loadTasks();\n          this.closeEditModal();\n        },\n        error: err => console.error('[ERROR] Al editar tarea:', err)\n      });\n    }\n    // Cierra el modal de edición\n    closeEditModal() {\n      this.isEditModalOpen = false;\n      this.editedTask = {};\n    }\n    // Abre modal de eliminación (por implementar)\n    openDeleteModal(task) {\n      this.taskToDeleteKey = task.nombre;\n      this.isDeleteModalOpen = true;\n    }\n    // Confirma la eliminación de la tarea seleccionada\n    confirmDeleteTask() {\n      this.taskService.deleteTask(this.taskTypeName, this.taskToDeleteKey).subscribe({\n        next: () => {\n          this.loadTasks();\n          this.closeDeleteModal();\n        },\n        error: err => console.error('[ERROR] Al eliminar tarea:', err)\n      });\n    }\n    // Cierra el modal de eliminación\n    closeDeleteModal() {\n      this.taskToDeleteKey = '';\n      this.isDeleteModalOpen = false;\n    }\n    // Carga el nombre visual del tipo de tarea desde Firebase\n    loadTaskTypeDisplayName() {\n      this.taskTypeService.getAllTaskTypes().subscribe({\n        next: types => {\n          const match = types.find(t => t.key === this.taskTypeName);\n          this.taskTypeDisplayName = match?.nombre || this.taskTypeName;\n        },\n        error: err => console.error('[ERROR] Al obtener nombre visual:', err)\n      });\n    }\n    // Cambia el estado de la tarea y lo guarda en Firebase\n    changeTaskStatus(task) {\n      const key = task.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\n      this.taskService.updateTask(this.taskTypeName, key, task).subscribe({\n        next: () => this.loadTasks(),\n        error: err => console.error('[ERROR] Al actualizar estado:', err)\n      });\n    }\n    // Devuelve clase de color según estado y fecha\n    getEstadoColor(task) {\n      const hoy = new Date();\n      const fechaTarea = task.fecha ? new Date(task.fecha) : null;\n      if (task.estado === 'realizado') return 'bg-teal-600';\n      if (task.estado === 'para hoy') return 'bg-orange-600';\n      if (task.estado === 'no realizado' && fechaTarea && fechaTarea < hoy) return 'bg-red-600';\n      return 'bg-slate-500'; // pendiente u otro\n    }\n    // Parsea un string yyyy-MM-dd como fecha local sin zona horaria\n    parseFechaLocal(fechaStr) {\n      const [year, month, day] = fechaStr.split('-').map(Number);\n      return new Date(year, month - 1, day); // mes va de 0-11\n    }\n    static #_ = this.ɵfac = function CategoryComponent_Factory(t) {\n      return new (t || CategoryComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TaskService), i0.ɵɵdirectiveInject(i3.TaskTypeService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CategoryComponent,\n      selectors: [[\"app-category\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 37,\n      vars: 5,\n      consts: [[1, \"mb-6\", \"grid\", \"grid-cols-1\", \"xl:grid-cols-1\", \"gap-6\"], [1, \"relative\", \"flex\", \"flex-col\", \"bg-white\", \"rounded-xl\", \"shadow-lg\", \"overflow-hidden\", \"border\", \"border-gray-200\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-6\", \"bg-gradient-to-r\", \"from-sky-800\", \"to-sky-800\", \"text-white\", \"rounded-t-xl\", \"shadow-md\"], [1, \"text-xl\", \"font-bold\", \"tracking-wide\"], [1, \"text-sm\", \"flex\", \"items-center\", \"gap-2\", \"opacity-90\"], [1, \"text-xl\"], [1, \"flex\", \"gap-3\", \"items-center\"], [1, \"text-white\", \"hover:underline\", \"flex\", \"items-center\", \"gap-1\", 3, \"click\"], [1, \"material-icons\"], [1, \"bg-white\", \"text-sky-800\", \"px-4\", \"py-2\", \"rounded-md\", \"shadow-md\", \"hover:bg-slate-200\", \"transition\", \"font-semibold\", \"flex\", \"items-center\", \"gap-2\", 3, \"click\"], [1, \"material-icons\", \"text-sky-800\"], [1, \"overflow-x-auto\"], [1, \"w-full\", \"min-w-[640px]\", \"border-collapse\"], [1, \"bg-gray-100\"], [1, \"border-b\"], [1, \"py-4\", \"px-6\", \"text-left\", \"text-xs\", \"font-semibold\", \"uppercase\", \"text-gray-600\"], [1, \"py-4\", \"px-6\", \"text-center\", \"text-xs\", \"font-semibold\", \"uppercase\", \"text-gray-600\"], [\"class\", \"border-b transition duration-300 hover:bg-gray-50\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\", 4, \"ngIf\"], [1, \"border-b\", \"transition\", \"duration-300\", \"hover:bg-gray-50\"], [1, \"py-4\", \"px-6\", \"font-semibold\"], [1, \"py-4\", \"px-6\", \"text-gray-700\"], [1, \"py-4\", \"px-6\", \"text-center\"], [1, \"text-xs\", \"font-semibold\", \"px-3\", \"py-1\", \"rounded-full\", \"shadow-sm\", \"border\", \"text-white\", 3, \"ngModelChange\", \"change\", \"ngModel\", \"ngClass\"], [\"value\", \"pendiente\", 1, \"text-black\", \"bg-slate-100\"], [\"value\", \"realizado\", 1, \"text-white\", \"bg-slate-700\"], [\"value\", \"no realizado\", 1, \"text-white\", \"bg-slate-700\"], [\"value\", \"para hoy\", 1, \"text-white\", \"bg-slate-700\"], [1, \"text-sky-700\", \"text-xl\", 3, \"click\"], [1, \"material-icons\", \"text-sky-700\"], [1, \"text-orange-600\", \"text-xl\", 3, \"click\"], [1, \"material-icons\", \"text-orange-600\"], [1, \"fixed\", \"inset-0\", \"flex\", \"items-center\", \"justify-center\", \"bg-black\", \"bg-opacity-40\", \"z-50\"], [1, \"bg-white\", \"p-6\", \"rounded-lg\", \"shadow-lg\", \"w-96\"], [1, \"text-xl\", \"font-bold\", \"mb-4\"], [1, \"block\", \"mb-1\", \"font-medium\"], [\"type\", \"text\", 1, \"w-full\", \"p-2\", \"border\", \"rounded\", \"mb-4\", 3, \"ngModelChange\", \"ngModel\"], [\"rows\", \"2\", 1, \"w-full\", \"p-2\", \"border\", \"rounded\", \"mb-4\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"date\", 1, \"w-full\", \"p-2\", \"border\", \"rounded\", \"mb-4\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"justify-end\", \"gap-2\"], [1, \"px-4\", \"py-2\", \"border\", \"rounded-md\", \"hover:bg-slate-200\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"bg-green-600\", \"text-white\", \"rounded-md\", \"hover:bg-green-700\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"bg-sky-700\", \"text-white\", \"rounded-md\", \"hover:bg-sky-800\", 3, \"click\"], [1, \"bg-white\", \"p-6\", \"rounded-lg\", \"shadow-lg\", \"w-80\", \"text-center\"], [1, \"material-icons\", \"text-red-600\", \"mx-auto\", \"mb-4\", 2, \"font-size\", \"48px\"], [1, \"text-xl\", \"font-bold\", \"mt-4\", \"mb-2\"], [1, \"mb-6\", \"text-gray-700\"], [1, \"flex\", \"justify-center\", \"gap-2\"], [1, \"px-4\", \"py-2\", \"border\", \"rounded-md\", \"hover:bg-orange-200\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"bg-orange-600\", \"text-white\", \"rounded-md\", \"hover:bg-red-600\", 3, \"click\"]],\n      template: function CategoryComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"h6\", 3);\n          i0.ɵɵtext(5, \"Tareas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 4)(7, \"strong\", 5);\n          i0.ɵɵtext(8);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function CategoryComponent_Template_button_click_10_listener() {\n            return ctx.goBack();\n          });\n          i0.ɵɵelementStart(11, \"span\", 8);\n          i0.ɵɵtext(12, \"arrow_back\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(13, \" Regresar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function CategoryComponent_Template_button_click_14_listener() {\n            return ctx.openAddModal();\n          });\n          i0.ɵɵelementStart(15, \"span\", 10);\n          i0.ɵɵtext(16, \"add\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(17, \" Agregar \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"div\", 11)(19, \"table\", 12)(20, \"thead\", 13)(21, \"tr\", 14)(22, \"th\", 15);\n          i0.ɵɵtext(23, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"th\", 15);\n          i0.ɵɵtext(25, \"Nota\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"th\", 16);\n          i0.ɵɵtext(27, \"Fecha\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"th\", 16);\n          i0.ɵɵtext(29, \"Estado\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"th\", 16);\n          i0.ɵɵtext(31, \"Acciones\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(32, \"tbody\");\n          i0.ɵɵtemplate(33, CategoryComponent_tr_33_Template, 25, 8, \"tr\", 17);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(34, CategoryComponent_div_34_Template, 18, 3, \"div\", 18)(35, CategoryComponent_div_35_Template, 18, 3, \"div\", 18)(36, CategoryComponent_div_36_Template, 13, 0, \"div\", 18);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(ctx.taskTypeDisplayName);\n          i0.ɵɵadvance(25);\n          i0.ɵɵproperty(\"ngForOf\", ctx.tasks);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAddModalOpen);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isEditModalOpen);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isDeleteModalOpen);\n        }\n      },\n      dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, i4.DatePipe, FormsModule, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel],\n      encapsulation: 2\n    });\n  }\n  return CategoryComponent;\n})();","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","CategoryComponent_tr_33_Template_select_ngModelChange_9_listener","$event","task_r2","ɵɵrestoreView","_r1","$implicit","ɵɵtwoWayBindingSet","estado","ɵɵresetView","ɵɵlistener","CategoryComponent_tr_33_Template_select_change_9_listener","ctx_r2","ɵɵnextContext","changeTaskStatus","CategoryComponent_tr_33_Template_button_click_19_listener","openEditModal","CategoryComponent_tr_33_Template_button_click_22_listener","openDeleteModal","ɵɵadvance","ɵɵtextInterpolate","nombre","nota","ɵɵtextInterpolate1","fecha","ɵɵpipeBind2","ɵɵtwoWayProperty","ɵɵproperty","getEstadoColor","CategoryComponent_div_34_Template_input_ngModelChange_6_listener","_r4","newTask","CategoryComponent_div_34_Template_textarea_ngModelChange_9_listener","CategoryComponent_div_34_Template_input_ngModelChange_12_listener","CategoryComponent_div_34_Template_button_click_14_listener","closeAddModal","CategoryComponent_div_34_Template_button_click_16_listener","addTask","CategoryComponent_div_35_Template_input_ngModelChange_6_listener","_r5","editedTask","CategoryComponent_div_35_Template_textarea_ngModelChange_9_listener","CategoryComponent_div_35_Template_input_ngModelChange_12_listener","CategoryComponent_div_35_Template_button_click_14_listener","closeEditModal","CategoryComponent_div_35_Template_button_click_16_listener","saveTaskEdit","CategoryComponent_div_36_Template_button_click_9_listener","_r6","closeDeleteModal","CategoryComponent_div_36_Template_button_click_11_listener","confirmDeleteTask","CategoryComponent","constructor","route","router","taskService","taskTypeService","taskTypeName","taskTypeDisplayName","editedOriginalName","isEditModalOpen","isDeleteModalOpen","taskToDeleteKey","tasks","isAddModalOpen","ngOnInit","snapshot","paramMap","get","console","log","loadTasks","loadTaskTypeDisplayName","getTasks","subscribe","next","hoy","Date","hoyFecha","getFullYear","getMonth","getDate","toISOString","toDateString","map","task","fechaTarea","parseFechaLocal","getTime","forEach","key","trim","toLowerCase","replace","updateTask","error","err","goBack","navigate","toggleTaskStatus","estados","actual","index","indexOf","siguiente","length","updatedTask","openAddModal","newKey","oldKey","deleteTask","getAllTaskTypes","types","match","find","t","fechaStr","year","month","day","split","Number","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","TaskService","i3","TaskTypeService","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CategoryComponent_Template","rf","ctx","CategoryComponent_Template_button_click_10_listener","CategoryComponent_Template_button_click_14_listener","ɵɵtemplate","CategoryComponent_tr_33_Template","CategoryComponent_div_34_Template","CategoryComponent_div_35_Template","CategoryComponent_div_36_Template","i4","NgClass","NgForOf","NgIf","DatePipe","i5","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","encapsulation"],"sources":["E:\\Golden Panda\\8) Programacion\\MisDeberes\\MisDeberes\\src\\app\\pages\\category\\category.component.ts","E:\\Golden Panda\\8) Programacion\\MisDeberes\\MisDeberes\\src\\app\\pages\\category\\category.component.html"],"sourcesContent":["// Componente para mostrar las tareas de un tipo de deber\r\nimport { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TaskTypeService } from '../../services/taskType.service';\r\n\r\n@Component({\r\n  selector: 'app-category',\r\n  standalone: true,\r\n  templateUrl: './category.component.html',\r\n  styleUrls: [],\r\n  imports: [CommonModule, FormsModule],\r\n})\r\nexport class CategoryComponent {\r\n  // Nombre del tipo de tarea actual (clave Firebase)\r\n  taskTypeName: string = '';\r\n  taskTypeDisplayName: string = '';\r\n  editedOriginalName: string = '';\r\n\r\n  // Modal de edición\r\n  isEditModalOpen: boolean = false;\r\n  editedTask: any = {};\r\n\r\n  // Modal de eliminación\r\n  isDeleteModalOpen: boolean = false;\r\n  taskToDeleteKey: string = '';\r\n\r\n  // Lista de tareas cargadas\r\n  tasks: {\r\n    nombre: string;\r\n    nota?: string;\r\n    fecha?: string;\r\n    estado: 'realizado' | 'pendiente' | 'no realizado' | 'para hoy';\r\n  }[] = [];\r\n\r\n  // Estado para el modal de agregar\r\n  isAddModalOpen: boolean = false;\r\n\r\n  // Tarea nueva temporal\r\n  newTask = {\r\n    nombre: '',\r\n    nota: '',\r\n    fecha: '',\r\n    estado: 'pendiente' as\r\n      | 'pendiente'\r\n      | 'realizado'\r\n      | 'no realizado'\r\n      | 'para hoy',\r\n  };\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private taskService: TaskService,\r\n    private taskTypeService: TaskTypeService\r\n  ) {}\r\n\r\n  // Carga inicial del tipo de tarea y sus tareas asociadas\r\n  ngOnInit(): void {\r\n    this.taskTypeName = this.route.snapshot.paramMap.get('name') || '';\r\n    console.log('[INIT] Tareas para tipo:', this.taskTypeName);\r\n    this.loadTasks();\r\n    this.loadTaskTypeDisplayName();\r\n  }\r\n\r\n // Carga y ajusta estados de las tareas automáticamente\r\nloadTasks(): void {\r\n  this.taskService.getTasks(this.taskTypeName).subscribe({\r\n    next: (tasks) => {\r\n      const hoy = new Date();\r\n      const hoyFecha = new Date(hoy.getFullYear(), hoy.getMonth(), hoy.getDate()); // hoy a las 00:00\r\n\r\n      console.log('[DEBUG] Fecha actual local:', hoy.toISOString(), '| Solo fecha:', hoyFecha.toDateString());\r\n\r\n      this.tasks = tasks.map(task => {\r\n        if (task.estado === 'realizado') return task;\r\n\r\n        if (!task.fecha) {\r\n          task.estado = 'pendiente';\r\n        } else {\r\n          const fechaTarea = this.parseFechaLocal(task.fecha);\r\n          console.log('[DEBUG] Tarea:', task.nombre, '| Fecha tarea:', fechaTarea.toDateString());\r\n\r\n          if (fechaTarea.getTime() === hoyFecha.getTime()) {\r\n            task.estado = 'para hoy';\r\n          } else if (fechaTarea.getTime() < hoyFecha.getTime()) {\r\n            task.estado = 'no realizado';\r\n          } else {\r\n            task.estado = 'pendiente';\r\n          }\r\n        }\r\n\r\n        return task;\r\n      });\r\n\r\n      // Guardar los cambios en Firebase\r\n      this.tasks.forEach(task => {\r\n        const key = task.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\r\n        this.taskService.updateTask(this.taskTypeName, key, task).subscribe();\r\n      });\r\n\r\n      console.log('[TAREAS]', this.tasks);\r\n    },\r\n    error: (err) => console.error('[ERROR] Al cargar tareas:', err)\r\n  });\r\n}\r\n\r\n  // Regresa al home\r\n  goBack(): void {\r\n    this.router.navigate(['/app/home']);\r\n  }\r\n\r\n  // Cambia el estado de la tarea y lo guarda en Firebase\r\n  toggleTaskStatus(task: any): void {\r\n    const estados = ['pendiente', 'para hoy', 'realizado', 'no realizado'];\r\n    const actual = task.estado;\r\n    const index = estados.indexOf(actual);\r\n    const siguiente = estados[(index + 1) % estados.length];\r\n\r\n    const updatedTask = { ...task, estado: siguiente };\r\n\r\n    const key = task.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\r\n\r\n    this.taskService.updateTask(this.taskTypeName, key, updatedTask).subscribe({\r\n      next: () => this.loadTasks(),\r\n      error: (err) => console.error('[ERROR] Al cambiar estado:', err),\r\n    });\r\n  }\r\n\r\n  // Abre el modal para nueva tarea\r\n  openAddModal(): void {\r\n    this.isAddModalOpen = true;\r\n    this.newTask = {\r\n      nombre: '',\r\n      nota: '',\r\n      fecha: '',\r\n      estado: 'pendiente',\r\n    };\r\n  }\r\n\r\n  // Cierra el modal de nueva tarea\r\n  closeAddModal(): void {\r\n    this.isAddModalOpen = false;\r\n    this.newTask = {\r\n      nombre: '',\r\n      nota: '',\r\n      fecha: '',\r\n      estado: 'pendiente',\r\n    };\r\n  }\r\n\r\n  // Agrega una nueva tarea a Firebase\r\n  addTask(): void {\r\n    if (!this.newTask.nombre.trim()) return;\r\n\r\n    this.taskService.addTask(this.taskTypeName, this.newTask).subscribe({\r\n      next: () => {\r\n        this.loadTasks();\r\n        this.closeAddModal();\r\n      },\r\n      error: (err) => console.error('[ERROR] Al agregar tarea:', err),\r\n    });\r\n  }\r\n\r\n  // Abre modal de edición (por implementar)\r\n  openEditModal(task: any): void {\r\n    this.editedTask = { ...task }; // copia los datos de la tarea\r\n    this.editedOriginalName = task.nombre; // guarda el nombre original\r\n    this.isEditModalOpen = true;\r\n  }\r\n\r\n  // Confirma la edición de la tarea seleccionada\r\n  saveTaskEdit(): void {\r\n    if (!this.editedTask?.nombre?.trim()) return;\r\n\r\n    const newKey = this.editedTask.nombre\r\n      .trim()\r\n      .toLowerCase()\r\n      .replace(/\\s+/g, '_');\r\n    const oldKey = this.editedOriginalName\r\n      .trim()\r\n      .toLowerCase()\r\n      .replace(/\\s+/g, '_');\r\n\r\n    // Si cambió el nombre (key), eliminamos el anterior\r\n    if (newKey !== oldKey) {\r\n      this.taskService.deleteTask(this.taskTypeName, oldKey).subscribe();\r\n    }\r\n\r\n    this.taskService\r\n      .updateTask(this.taskTypeName, newKey, this.editedTask)\r\n      .subscribe({\r\n        next: () => {\r\n          this.loadTasks();\r\n          this.closeEditModal();\r\n        },\r\n        error: (err) => console.error('[ERROR] Al editar tarea:', err),\r\n      });\r\n  }\r\n\r\n  // Cierra el modal de edición\r\n  closeEditModal(): void {\r\n    this.isEditModalOpen = false;\r\n    this.editedTask = {};\r\n  }\r\n\r\n  // Abre modal de eliminación (por implementar)\r\n  openDeleteModal(task: any): void {\r\n    this.taskToDeleteKey = task.nombre;\r\n    this.isDeleteModalOpen = true;\r\n  }\r\n  // Confirma la eliminación de la tarea seleccionada\r\n  confirmDeleteTask(): void {\r\n    this.taskService\r\n      .deleteTask(this.taskTypeName, this.taskToDeleteKey)\r\n      .subscribe({\r\n        next: () => {\r\n          this.loadTasks();\r\n          this.closeDeleteModal();\r\n        },\r\n        error: (err) => console.error('[ERROR] Al eliminar tarea:', err),\r\n      });\r\n  }\r\n  // Cierra el modal de eliminación\r\n  closeDeleteModal(): void {\r\n    this.taskToDeleteKey = '';\r\n    this.isDeleteModalOpen = false;\r\n  }\r\n\r\n  // Carga el nombre visual del tipo de tarea desde Firebase\r\n  loadTaskTypeDisplayName(): void {\r\n    this.taskTypeService.getAllTaskTypes().subscribe({\r\n      next: (types) => {\r\n        const match = types.find((t) => t.key === this.taskTypeName);\r\n        this.taskTypeDisplayName = match?.nombre || this.taskTypeName;\r\n      },\r\n      error: (err) => console.error('[ERROR] Al obtener nombre visual:', err),\r\n    });\r\n  }\r\n\r\n  // Cambia el estado de la tarea y lo guarda en Firebase\r\n  changeTaskStatus(task: any): void {\r\n    const key = task.nombre.trim().toLowerCase().replace(/\\s+/g, '_');\r\n    this.taskService.updateTask(this.taskTypeName, key, task).subscribe({\r\n      next: () => this.loadTasks(),\r\n      error: (err) => console.error('[ERROR] Al actualizar estado:', err),\r\n    });\r\n  }\r\n  // Devuelve clase de color según estado y fecha\r\n  getEstadoColor(task: any): string {\r\n    const hoy = new Date();\r\n    const fechaTarea = task.fecha ? new Date(task.fecha) : null;\r\n\r\n    if (task.estado === 'realizado') return 'bg-teal-600';\r\n    if (task.estado === 'para hoy') return 'bg-orange-600';\r\n    if (task.estado === 'no realizado' && fechaTarea && fechaTarea < hoy)\r\n      return 'bg-red-600';\r\n    return 'bg-slate-500'; // pendiente u otro\r\n  }\r\n\r\n  // Parsea un string yyyy-MM-dd como fecha local sin zona horaria\r\nparseFechaLocal(fechaStr: string): Date {\r\n  const [year, month, day] = fechaStr.split('-').map(Number);\r\n  return new Date(year, month - 1, day); // mes va de 0-11\r\n}\r\n\r\n}\r\n","<!-- Contenedor principal -->\r\n<div class=\"mb-6 grid grid-cols-1 xl:grid-cols-1 gap-6\">\r\n  <div class=\"relative flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200\">\r\n\r\n    <!-- Header -->\r\n    <div\r\n      class=\"flex items-center justify-between p-6 bg-gradient-to-r from-sky-800 to-sky-800 text-white rounded-t-xl shadow-md\">\r\n      <div>\r\n        <h6 class=\"text-xl font-bold tracking-wide\">Tareas</h6>\r\n        <p class=\"text-sm flex items-center gap-2 opacity-90\">\r\n          <strong class=\"text-xl\">{{ taskTypeDisplayName }}</strong>\r\n        </p>\r\n      </div>\r\n      <div class=\"flex gap-3 items-center\">\r\n        <!-- Botón para agregar tarea (mismo estilo que MiCartera) -->\r\n        <button (click)=\"goBack()\" class=\"text-white hover:underline flex items-center gap-1\">\r\n          <span class=\"material-icons\">arrow_back</span> Regresar\r\n        </button>\r\n\r\n        <button (click)=\"openAddModal()\"\r\n          class=\"bg-white text-sky-800 px-4 py-2 rounded-md shadow-md hover:bg-slate-200 transition font-semibold flex items-center gap-2\">\r\n          <span class=\"material-icons text-sky-800\">add</span> Agregar\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Tabla de tareas -->\r\n    <div class=\"overflow-x-auto\">\r\n      <table class=\"w-full min-w-[640px] border-collapse\">\r\n        <thead class=\"bg-gray-100\">\r\n          <tr class=\"border-b\">\r\n            <th class=\"py-4 px-6 text-left text-xs font-semibold uppercase text-gray-600\">Nombre</th>\r\n            <th class=\"py-4 px-6 text-left text-xs font-semibold uppercase text-gray-600\">Nota</th>\r\n            <th class=\"py-4 px-6 text-center text-xs font-semibold uppercase text-gray-600\">Fecha</th>\r\n            <th class=\"py-4 px-6 text-center text-xs font-semibold uppercase text-gray-600\">Estado</th>\r\n            <th class=\"py-4 px-6 text-center text-xs font-semibold uppercase text-gray-600\">Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let task of tasks\" class=\"border-b transition duration-300 hover:bg-gray-50\">\r\n            <td class=\"py-4 px-6 font-semibold\">{{ task.nombre }}</td>\r\n            <td class=\"py-4 px-6 text-gray-700\">{{ task.nota || '-' }}</td>\r\n            <td class=\"py-4 px-6 text-center\">\r\n              {{ task.fecha ? (task.fecha | date:'EEEE d') : '(por definir)' }}\r\n            </td>\r\n            <td class=\"py-4 px-6 text-center\">\r\n              <select [(ngModel)]=\"task.estado\" (change)=\"changeTaskStatus(task)\"\r\n                class=\"text-xs font-semibold px-3 py-1 rounded-full shadow-sm border text-white\"\r\n                [ngClass]=\"getEstadoColor(task)\">\r\n\r\n                <option class=\"text-black bg-slate-100\" value=\"pendiente\">Pendiente</option>\r\n                <option class=\"text-white bg-slate-700\" value=\"realizado\">Realizado</option>\r\n                <option class=\"text-white bg-slate-700\" value=\"no realizado\">No realizado</option>\r\n                <option class=\"text-white bg-slate-700\" value=\"para hoy\">Para hoy</option>\r\n              </select>\r\n            </td>\r\n\r\n            <td class=\"py-4 px-6 text-center\">\r\n              <button (click)=\"openEditModal(task)\" class=\"text-sky-700 text-xl\">\r\n                <span class=\"material-icons text-sky-700\">edit</span>\r\n              </button>\r\n              <button (click)=\"openDeleteModal(task)\" class=\"text-orange-600 text-xl\">\r\n                <span class=\"material-icons text-orange-600\">delete</span>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal para agregar nueva tarea -->\r\n<div *ngIf=\"isAddModalOpen\" class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n  <div class=\"bg-white p-6 rounded-lg shadow-lg w-96\">\r\n    <h2 class=\"text-xl font-bold mb-4\">Nueva Tarea</h2>\r\n\r\n    <!-- Campo: Nombre -->\r\n    <label class=\"block mb-1 font-medium\">Nombre:</label>\r\n    <input type=\"text\" [(ngModel)]=\"newTask.nombre\" class=\"w-full p-2 border rounded mb-4\" />\r\n\r\n    <!-- Campo: Nota -->\r\n    <label class=\"block mb-1 font-medium\">Nota adicional:</label>\r\n    <textarea [(ngModel)]=\"newTask.nota\" class=\"w-full p-2 border rounded mb-4\" rows=\"2\"></textarea>\r\n\r\n    <!-- Campo: Fecha -->\r\n    <label class=\"block mb-1 font-medium\">Fecha (día):</label>\r\n    <input type=\"date\" [(ngModel)]=\"newTask.fecha\" class=\"w-full p-2 border rounded mb-4\" />\r\n\r\n    <!-- Campo: Estado -->\r\n    <!-- <label class=\"block mb-1 font-medium\">Estado:</label>\r\n    <select [(ngModel)]=\"newTask.estado\" class=\"w-full p-2 border rounded mb-4\">\r\n      <option value=\"pendiente\">pendiente</option>\r\n      <option value=\"realizado\">realizado</option>\r\n      <option value=\"no realizado\">no realizado</option>\r\n      <option value=\"para hoy\">para hoy</option>\r\n    </select> -->\r\n\r\n    <!-- Acciones -->\r\n    <div class=\"flex justify-end gap-2\">\r\n      <button (click)=\"closeAddModal()\" class=\"px-4 py-2 border rounded-md hover:bg-slate-200\">Cancelar</button>\r\n      <button (click)=\"addTask()\"\r\n        class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\">Agregar</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal para editar tarea -->\r\n<div *ngIf=\"isEditModalOpen\" class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n  <div class=\"bg-white p-6 rounded-lg shadow-lg w-96\">\r\n    <h2 class=\"text-xl font-bold mb-4\">Editar Tarea</h2>\r\n\r\n    <!-- Campo: Nombre -->\r\n    <label class=\"block mb-1 font-medium\">Nombre:</label>\r\n    <input type=\"text\" [(ngModel)]=\"editedTask.nombre\" class=\"w-full p-2 border rounded mb-4\" />\r\n\r\n    <!-- Campo: Nota -->\r\n    <label class=\"block mb-1 font-medium\">Nota:</label>\r\n    <textarea [(ngModel)]=\"editedTask.nota\" class=\"w-full p-2 border rounded mb-4\" rows=\"2\"></textarea>\r\n\r\n    <!-- Campo: Fecha -->\r\n    <label class=\"block mb-1 font-medium\">Fecha:</label>\r\n    <input type=\"date\" [(ngModel)]=\"editedTask.fecha\" class=\"w-full p-2 border rounded mb-4\" />\r\n\r\n    <!-- Campo: Estado -->\r\n    <!-- <label class=\"block mb-1 font-medium\">Estado:</label>\r\n    <select [(ngModel)]=\"editedTask.estado\" class=\"w-full p-2 border rounded mb-4\">\r\n      <option value=\"pendiente\">pendiente</option>\r\n      <option value=\"realizado\">realizado</option>\r\n      <option value=\"no realizado\">no realizado</option>\r\n      <option value=\"para hoy\">para hoy</option>\r\n    </select> -->\r\n\r\n    <!-- Acciones -->\r\n    <div class=\"flex justify-end gap-2\">\r\n      <button (click)=\"closeEditModal()\" class=\"px-4 py-2 border rounded-md hover:bg-slate-200\">Cancelar</button>\r\n      <button (click)=\"saveTaskEdit()\" class=\"px-4 py-2 bg-sky-700 text-white rounded-md hover:bg-sky-800\">\r\n        Guardar\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal para eliminar tarea -->\r\n<div *ngIf=\"isDeleteModalOpen\" class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n  <div class=\"bg-white p-6 rounded-lg shadow-lg w-80 text-center\">\r\n    <span class=\"material-icons text-red-600 mx-auto mb-4\" style=\"font-size: 48px;\">\r\n      report_problem\r\n    </span>\r\n    <h2 class=\"text-xl font-bold mt-4 mb-2\">¿Eliminar Tarea?</h2>\r\n    <p class=\"mb-6 text-gray-700\">¿Estás seguro de eliminar esta tarea? Esta acción no se puede deshacer.</p>\r\n    <div class=\"flex justify-center gap-2\">\r\n      <button (click)=\"closeDeleteModal()\" class=\"px-4 py-2 border rounded-md hover:bg-orange-200\">Cancelar</button>\r\n      <button (click)=\"confirmDeleteTask()\" class=\"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-red-600\">\r\n        Eliminar\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}